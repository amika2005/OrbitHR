# OrbitHR - System Architecture

## ğŸ—ï¸ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT LAYER                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Browser    â”‚  â”‚   Mobile     â”‚  â”‚   Tablet     â”‚         â”‚
â”‚  â”‚  (Desktop)   â”‚  â”‚   (Safari)   â”‚  â”‚   (iPad)     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                 â”‚                  â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                           â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTPS
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VERCEL EDGE NETWORK                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Next.js 15 Application                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  App Router (React Server Components)          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Server-side rendering (SSR)                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Static generation (SSG)                      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Client components for interactivity          â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Server Actions (API Layer)                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ screenCandidate()                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ updateApplicationStatus()                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ generatePayroll()                            â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Clerk Auth API     â”‚    â”‚  OpenAI API   â”‚
    â”‚  (Session Mgmt)      â”‚    â”‚  (GPT-4o-mini)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LAYER                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Prisma ORM (Type-safe Query Builder)                   â”‚  â”‚
â”‚  â”‚  â€¢ Connection pooling                                    â”‚  â”‚
â”‚  â”‚  â€¢ Query optimization                                    â”‚  â”‚
â”‚  â”‚  â€¢ Type generation                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚                                    â”‚
â”‚                            â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Supabase PostgreSQL Database                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚Companies â”‚  â”‚  Users   â”‚  â”‚   Jobs   â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚Applicationsâ”‚ â”‚ Payroll  â”‚  â”‚Workflows â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â€¢ Row-level security (RLS)                              â”‚  â”‚
â”‚  â”‚  â€¢ Automated backups                                     â”‚  â”‚
â”‚  â”‚  â€¢ Real-time subscriptions (future)                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagrams

### 1. AI Candidate Screening Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Recruiter â”‚
â”‚  uploads    â”‚
â”‚   resume    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Next.js Server Action                     â”‚
â”‚  screenCandidate(applicationId, resumeText)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”œâ”€â”€â”€â”€â”€â–º â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚       â”‚  Fetch Job Description  â”‚
                â”‚       â”‚  from Supabase via      â”‚
                â”‚       â”‚  Prisma                 â”‚
                â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚               â”‚
                â”‚               â–¼
                â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚       â”‚  Build AI Prompt        â”‚
                â”‚       â”‚  â€¢ Resume text          â”‚
                â”‚       â”‚  â€¢ Job requirements     â”‚
                â”‚       â”‚  â€¢ Cultural fit criteriaâ”‚
                â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚               â”‚
                â”‚               â–¼
                â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚       â”‚  OpenAI API Call        â”‚
                â”‚       â”‚  (gpt-4o-mini)          â”‚
                â”‚       â”‚  â€¢ Temperature: 0.3     â”‚
                â”‚       â”‚  â€¢ JSON response format â”‚
                â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚               â”‚
                â”‚               â–¼
                â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚       â”‚  Parse AI Response      â”‚
                â”‚       â”‚  {                      â”‚
                â”‚       â”‚    score: 85,           â”‚
                â”‚       â”‚    cultureFit: 78,      â”‚
                â”‚       â”‚    summary: "...",      â”‚
                â”‚       â”‚    missingSkills: []    â”‚
                â”‚       â”‚  }                      â”‚
                â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚               â”‚
                â–¼               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Update Application in DB      â”‚
       â”‚  â€¢ Set aiScore                 â”‚
       â”‚  â€¢ Set culturalFitScore        â”‚
       â”‚  â€¢ Set aiSummary               â”‚
       â”‚  â€¢ Status = AI_SCREENED        â”‚
       â”‚  (NOT auto-rejecting)          â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Notify HR Manager             â”‚
       â”‚  â€¢ Email notification (future) â”‚
       â”‚  â€¢ Dashboard update            â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Payroll Calculation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HR Manager  â”‚
â”‚  triggers   â”‚
â”‚   payroll   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  generatePayroll()                         â”‚
â”‚  â€¢ For all employees                       â”‚
â”‚  â€¢ For specific month/year                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Fetch Employee Data   â”‚
       â”‚  â€¢ Basic salary        â”‚
       â”‚  â€¢ Allowances          â”‚
       â”‚  â€¢ Department          â”‚
       â”‚  â€¢ Company country     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  For each employee:    â”‚
       â”‚  calculateSalary()     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€â”€â”€â”€â–º IF country === JAPAN
               â”‚        â”‚
               â”‚        â–¼
               â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   â”‚  Apply Japan Rules     â”‚
               â”‚   â”‚  â€¢ Social Insurance:15%â”‚
               â”‚   â”‚  â€¢ Income Tax: 10%     â”‚
               â”‚   â”‚  â€¢ Calculate net       â”‚
               â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚            â”‚
               â”‚            â””â”€â”€â”€â”€â”€â”€â”
               â”‚                   â”‚
               â””â”€â”€â”€â”€â”€â”€â–º IF country === SRI_LANKA
                        â”‚
                        â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Apply SL Rules        â”‚
                   â”‚  â€¢ EPF Employee: 8%    â”‚
                   â”‚  â€¢ EPF Employer: 12%   â”‚
                   â”‚  â€¢ ETF: 3%             â”‚
                   â”‚  â€¢ Progressive tax     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  Generate Breakdown        â”‚
               â”‚  {                         â”‚
               â”‚    grossPay,               â”‚
               â”‚    deductions,             â”‚
               â”‚    netPay,                 â”‚
               â”‚    employerCost            â”‚
               â”‚  }                         â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  Save PayrollRecord to DB  â”‚
               â”‚  â€¢ Month/Year              â”‚
               â”‚  â€¢ All breakdown fields    â”‚
               â”‚  â€¢ Status: Pending         â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  Return Summary            â”‚
               â”‚  â€¢ Total employees paid    â”‚
               â”‚  â€¢ Total amount            â”‚
               â”‚  â€¢ Any errors              â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. User Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚
â”‚ visits site â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Next.js Middleware  â”‚
â”‚  (Clerk Auth Check)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â”€â”€â”€â”€â”€â–º Public route (/sign-in, /) â”€â”€â”€â”€â–º Render page
        â”‚
        â””â”€â”€â”€â”€â”€â”€â–º Protected route (/dashboard/*)
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Session exists?     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”œâ”€â”€â”€â”€ YES â”€â”€â”€â”€â–º â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚  Fetch user from   â”‚
                â”‚               â”‚  Clerk session     â”‚
                â”‚               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                     â”‚
                â”‚                     â–¼
                â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚  Query user in DB  â”‚
                â”‚               â”‚  (by clerkId)      â”‚
                â”‚               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                     â”‚
                â”‚                     â–¼
                â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚  Get companyId     â”‚
                â”‚               â”‚  Filter all queriesâ”‚
                â”‚               â”‚  by this company   â”‚
                â”‚               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                     â”‚
                â”‚                     â–¼
                â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚  Render dashboard  â”‚
                â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â””â”€â”€â”€â”€ NO â”€â”€â”€â”€â”€â–º â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  Redirect to       â”‚
                                â”‚  /sign-in          â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ƒï¸ Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Company      â”‚
â”‚ ================ â”‚
â”‚ id (PK)          â”‚
â”‚ name             â”‚
â”‚ slug (unique)    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ country          â”‚          â”‚
â”‚ currency         â”‚          â”‚
â”‚ taxRules (JSON)  â”‚          â”‚
â”‚ settings (JSON)  â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                              â”‚ 1:N
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚                 â”‚
         â–¼                    â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User        â”‚  â”‚       Job        â”‚  â”‚   PayrollRecord  â”‚
â”‚ ================ â”‚  â”‚ ================ â”‚  â”‚ ================ â”‚
â”‚ id (PK)          â”‚  â”‚ id (PK)          â”‚  â”‚ id (PK)          â”‚
â”‚ clerkId (unique) â”‚  â”‚ title            â”‚  â”‚ month            â”‚
â”‚ email (unique)   â”‚  â”‚ description      â”‚  â”‚ year             â”‚
â”‚ firstName        â”‚  â”‚ salaryMin/Max    â”‚  â”‚ basicSalary      â”‚
â”‚ lastName         â”‚  â”‚ country          â”‚  â”‚ netSalary        â”‚
â”‚ role             â”‚  â”‚ department       â”‚  â”‚ currency         â”‚
â”‚ companyId (FK)â”€â”€â”€â”¼â”€â”€â”¤ companyId (FK)   â”‚  â”‚ companyId (FK)   â”‚
â”‚ salary           â”‚  â”‚ status           â”‚  â”‚ employeeId (FK)â”€â”€â”¼â”€â”
â”‚ department       â”‚  â”‚ keySkills []     â”‚  â”‚ taxDeductions    â”‚ â”‚
â”‚ hireDate         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ isProcessed      â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
       â”‚                       â”‚ 1:N                              â”‚
       â”‚ 1:N                   â”‚                                  â”‚
       â”‚                       â–¼                                  â”‚
       â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Application    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ ================ â”‚
                      â”‚ id (PK)          â”‚
                      â”‚ candidateId (FK) â”‚
                      â”‚ jobId (FK)       â”‚
                      â”‚ companyId (FK)   â”‚
                      â”‚ resumeUrl        â”‚
                      â”‚ aiScore          â”‚
                      â”‚ culturalFitScore â”‚
                      â”‚ status           â”‚
                      â”‚ interviewDate    â”‚
                      â”‚ missingSkills [] â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Component Architecture

```
App
â”œâ”€â”€ Layout (ClerkProvider)
â”‚   â”œâ”€â”€ Fonts
â”‚   â””â”€â”€ Global Styles
â”‚
â”œâ”€â”€ Public Routes
â”‚   â”œâ”€â”€ Landing Page (/)
â”‚   â”œâ”€â”€ Sign In (/sign-in)
â”‚   â””â”€â”€ Sign Up (/sign-up)
â”‚
â””â”€â”€ Protected Routes (/dashboard)
    â”œâ”€â”€ Dashboard Layout
    â”‚   â”œâ”€â”€ Sidebar
    â”‚   â”‚   â”œâ”€â”€ Logo
    â”‚   â”‚   â”œâ”€â”€ Navigation Links
    â”‚   â”‚   â””â”€â”€ User Profile (Clerk UserButton)
    â”‚   â””â”€â”€ Main Content Area
    â”‚
    â”œâ”€â”€ Dashboard Page
    â”‚   â””â”€â”€ Stats Cards (Users, Jobs, Payroll)
    â”‚
    â”œâ”€â”€ Jobs Module
    â”‚   â”œâ”€â”€ Job List
    â”‚   â”œâ”€â”€ Job Detail
    â”‚   â””â”€â”€ Job Form
    â”‚
    â”œâ”€â”€ Candidates Module
    â”‚   â”œâ”€â”€ PipelineBoard
    â”‚   â”‚   â”œâ”€â”€ Column (Droppable)
    â”‚   â”‚   â”‚   â””â”€â”€ CandidateCard (Draggable)
    â”‚   â”‚   â”‚       â”œâ”€â”€ Avatar
    â”‚   â”‚   â”‚       â”œâ”€â”€ AI Score Badges
    â”‚   â”‚   â”‚       â””â”€â”€ Review Button
    â”‚   â”‚   â”‚
    â”‚   â”‚   â””â”€â”€ Status Columns (6)
    â”‚   â”‚       â”œâ”€â”€ NEW
    â”‚   â”‚       â”œâ”€â”€ AI_SCREENED
    â”‚   â”‚       â”œâ”€â”€ HR_APPROVED
    â”‚   â”‚       â”œâ”€â”€ INTERVIEW_SCHEDULED
    â”‚   â”‚       â”œâ”€â”€ HIRED
    â”‚   â”‚       â””â”€â”€ REJECTED
    â”‚   â”‚
    â”‚   â””â”€â”€ Candidate Detail (Modal)
    â”‚       â”œâ”€â”€ Left: PDFViewer
    â”‚       â”‚   â”œâ”€â”€ Resume Preview
    â”‚       â”‚   â”œâ”€â”€ Download Button
    â”‚       â”‚   â””â”€â”€ Open in New Tab
    â”‚       â”‚
    â”‚       â””â”€â”€ Right: Review Panel
    â”‚           â”œâ”€â”€ Candidate Info
    â”‚           â”œâ”€â”€ AI Score Cards
    â”‚           â”œâ”€â”€ AI Summary
    â”‚           â”œâ”€â”€ Missing Skills
    â”‚           â”œâ”€â”€ Notes Input
    â”‚           â””â”€â”€ Action Buttons
    â”‚               â”œâ”€â”€ Approve (Green)
    â”‚               â””â”€â”€ Reject (Red)
    â”‚
    â”œâ”€â”€ Employees Module
    â”‚   â””â”€â”€ Employee List
    â”‚
    â”œâ”€â”€ Payroll Module
    â”‚   â”œâ”€â”€ CurrencyToggle (JPY/LKR)
    â”‚   â”œâ”€â”€ PayrollTable
    â”‚   â”‚   â”œâ”€â”€ Search Filter
    â”‚   â”‚   â”œâ”€â”€ Data Table (TanStack)
    â”‚   â”‚   â”‚   â”œâ”€â”€ Employee Name (sortable)
    â”‚   â”‚   â”‚   â”œâ”€â”€ Basic Salary (sortable)
    â”‚   â”‚   â”‚   â”œâ”€â”€ Deductions
    â”‚   â”‚   â”‚   â”œâ”€â”€ Net Pay (sortable)
    â”‚   â”‚   â”‚   â””â”€â”€ Status Badge
    â”‚   â”‚   â”‚
    â”‚   â”‚   â””â”€â”€ Export CSV Button
    â”‚   â”‚
    â”‚   â””â”€â”€ Summary Cards
    â”‚       â”œâ”€â”€ Total Employees
    â”‚       â”œâ”€â”€ Total Net Pay
    â”‚       â””â”€â”€ Pending Count
    â”‚
    â””â”€â”€ Settings Module
        â””â”€â”€ Company Profile
```

---

## ğŸ”Œ API Integration Points

### External APIs

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           OrbitHR Application               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚              â”‚
           â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Clerk API  â”‚  â”‚  OpenAI API   â”‚
    â”‚             â”‚  â”‚               â”‚
    â”‚ â€¢ Sign In   â”‚  â”‚ â€¢ Chat        â”‚
    â”‚ â€¢ Sign Up   â”‚  â”‚   Completions â”‚
    â”‚ â€¢ Sessions  â”‚  â”‚ â€¢ GPT-4o-mini â”‚
    â”‚ â€¢ Webhooks  â”‚  â”‚ â€¢ JSON mode   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     Authentication    AI Screening
```

### Internal Server Actions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Server Actions (API Layer)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  Candidate Management:                      â”‚
â”‚  â€¢ screenCandidate()                        â”‚
â”‚  â€¢ batchScreenCandidates()                  â”‚
â”‚  â€¢ updateApplicationStatus()                â”‚
â”‚                                             â”‚
â”‚  Job Management:                            â”‚
â”‚  â€¢ createJob()                              â”‚
â”‚  â€¢ updateJob()                              â”‚
â”‚  â€¢ deleteJob()                              â”‚
â”‚  â€¢ publishJob()                             â”‚
â”‚                                             â”‚
â”‚  Payroll Management:                        â”‚
â”‚  â€¢ generatePayroll()                        â”‚
â”‚  â€¢ approvePayroll()                         â”‚
â”‚  â€¢ exportPayroll()                          â”‚
â”‚                                             â”‚
â”‚  Employee Management:                       â”‚
â”‚  â€¢ addEmployee()                            â”‚
â”‚  â€¢ updateEmployee()                         â”‚
â”‚  â€¢ terminateEmployee()                      â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Security Layers                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  1. Network Layer (HTTPS)                          â”‚
â”‚     â””â”€ Vercel automatic SSL/TLS                   â”‚
â”‚                                                     â”‚
â”‚  2. Authentication (Clerk)                         â”‚
â”‚     â”œâ”€ Session management                          â”‚
â”‚     â”œâ”€ JWT tokens                                  â”‚
â”‚     â””â”€ OAuth providers                             â”‚
â”‚                                                     â”‚
â”‚  3. Authorization (Multi-tenancy)                  â”‚
â”‚     â”œâ”€ companyId filter on all queries            â”‚
â”‚     â”œâ”€ Role-based access (RBAC)                   â”‚
â”‚     â””â”€ Middleware route protection                â”‚
â”‚                                                     â”‚
â”‚  4. Database Layer (RLS)                           â”‚
â”‚     â”œâ”€ Row-level security in Supabase             â”‚
â”‚     â”œâ”€ Prisma prepared statements                 â”‚
â”‚     â””â”€ Type-safe queries                          â”‚
â”‚                                                     â”‚
â”‚  5. Application Layer                              â”‚
â”‚     â”œâ”€ Input validation (Zod - future)            â”‚
â”‚     â”œâ”€ XSS prevention (React auto-escape)         â”‚
â”‚     â””â”€ CSRF tokens (Next.js built-in)             â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Performance Optimizations

### 1. Database
```
â€¢ Connection pooling (Supabase)
â€¢ Indexes on frequently queried fields
â€¢ Efficient JOIN operations (Prisma includes)
â€¢ Query result caching (React Query)
```

### 2. Frontend
```
â€¢ React Server Components (RSC)
â€¢ Optimistic UI updates
â€¢ Image optimization (Next.js Image)
â€¢ Code splitting (automatic)
â€¢ Edge functions (Vercel)
```

### 3. AI
```
â€¢ GPT-4o-mini (faster + cheaper)
â€¢ Temperature 0.3 (consistent results)
â€¢ JSON response mode (structured output)
â€¢ Batch processing option
```

---

## ğŸš€ Scalability Strategy

```
Current (Free Tier)
â”œâ”€ 10k users
â”œâ”€ 500MB database
â”œâ”€ 100GB bandwidth
â””â”€ $5-20/month

         â”‚
         â–¼ Growth

Phase 1 (Pro Tier)
â”œâ”€ 50k users
â”œâ”€ 8GB database
â”œâ”€ 1TB bandwidth
â””â”€ $100-200/month

         â”‚
         â–¼ Scaling

Phase 2 (Enterprise)
â”œâ”€ Unlimited users
â”œâ”€ Dedicated database
â”œâ”€ CDN + edge caching
â”œâ”€ Microservices (AI, Payroll separate)
â””â”€ $1k-5k/month
```

---

## ğŸ¯ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GitHub Repository              â”‚
â”‚  â€¢ Source code                              â”‚
â”‚  â€¢ Automated versioning                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ Git Push
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Vercel Platform                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Build Process                     â”‚    â”‚
â”‚  â”‚  1. npm install                    â”‚    â”‚
â”‚  â”‚  2. npx prisma generate            â”‚    â”‚
â”‚  â”‚  3. next build                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚               â”‚                             â”‚
â”‚               â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Edge Network (Global CDN)         â”‚    â”‚
â”‚  â”‚  â€¢ Americas                        â”‚    â”‚
â”‚  â”‚  â€¢ Europe                          â”‚    â”‚
â”‚  â”‚  â€¢ Asia-Pacific (Tokyo, Singapore)â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚              â”‚
         â–¼              â–¼              â–¼
   [US Users]    [EU Users]    [Asia Users]
                                (Low latency!)
```

---

**This architecture is designed to be:**
- âœ… Scalable (10 â†’ 100k users)
- âœ… Secure (multi-layer protection)
- âœ… Fast (edge network + caching)
- âœ… Cost-efficient (pay-as-you-grow)
- âœ… Maintainable (clear separation of concerns)
